# Apptainerfile

# Base image
FROM docker://dolfinx/dolfinx:stable

# Set working directory
WORKDIR /home

# Copy contents
COPY . .

# Install system packages
RUN apt-get update && apt-get install -y \
    libgl1-mesa-glx \
    xvfb \
    && rm -rf /var/lib/apt/lists/*

# Install Python packages
RUN pip install numpy pyfiglet uvw tqdm vtk pyvista

# Set PYTHONPATH
ENV PYTHONPATH="/home/utils:${PYTHONPATH}"

# Specify the command to execute your Python script
CMD ["python3", "/home/scripts/01-phasefield-fracture-porous/3D-foam-stationary/pfmfrac.py"]
